# Saga pattern

- используется в системах, где бизнес транзакции разнесены во времени
- могут занимать длительное время от старта до окончания работы
- в случае если что-то пошло не так - каждый отказ должен быть максимально корректно обработан

    В качестве примера: система заказа еды в любом приложении.
    1) Пользователь оставил запрос на булочку с маком и бутылку кумыса
    2) Система подключается к ресторану и резервирует заказанные блюда
    3) Система ищет подходящего по параметрам курьера
    4) Система направляет курьера в ресторан
    ...
    n) Заказ у вас дома. 

Если на каком-то из этих этапов произойдет отказ или какое-то из звеньев окажется ненадежным, то важно правильно откатить все операции и не поломать пользовательский опыт, опыт коммуникации с рестораном и сделать правильные выводы по курьерам.

- если вы не создаете высоконагруженные системы уровня доставки еды или большие системы для работы с такси то имеет смысл попробовать обойтись без саг - в распределенных транзакциях все сильно проще отлаживать и поддерживать.

По-хорошему необходимо приходить к сагам когда простые решения уже не удовлетворяют потребностям бизнес логики. 

Сага это паттерн, который может быть реализован двумя способами:
- с Оркестрацией
- с Хореографией

[Хорошая статья где можно почитать в чем разница между подходами](https://medium.com/swlh/microservices-architecture-what-is-saga-pattern-and-how-important-is-it-55f56cfedd6b)
когда и какой применять - это отдельная большая тема, серебряная пуля конечно же есть, но я ее не покажу.
